(this["webpackJsonptrails-live"]=this["webpackJsonptrails-live"]||[]).push([[0],{195:function(e,a,t){e.exports=t(425)},200:function(e,a,t){},201:function(e,a,t){},416:function(e,a,t){},419:function(e,a,t){},420:function(e,a,t){},421:function(e,a,t){},422:function(e,a,t){},425:function(e,a,t){"use strict";t.r(a);var l=t(0),n=t.n(l),c=t(36),r=t.n(c),o=(t(200),t(5)),m=(t(201),t(30)),s=t(37),i=t.n(s),u=t(78),d=(t(416),t(76)),E=t.n(d),p=t(175),g=t.n(p),b=t(448),N=function(e){var a=e.trail,t=e.refresh,c=Object(l.useState)(!1),r=Object(o.a)(c,2),m=r[0],s=r[1],d=Object(l.useState)(""),p=Object(o.a)(d,2),N=p[0],h=p[1],v=function(){s(!1)};return n.a.createElement("div",null,n.a.createElement(b.a,{variant:"contained",color:"secondary",size:"large",className:"",startIcon:n.a.createElement(g.a,null),onClick:function(){s(!0)},value:"Thunder"},"Subscribe to Trail"),n.a.createElement(E.a,{visible:m,onClickBackdrop:v,className:"text-center"},n.a.createElement("div",{className:"modal-header text-center"},n.a.createElement("h5",{className:"modal-title text-center"}," Subscribe to Trail ")),n.a.createElement("div",{className:"modal-body"},n.a.createElement("h6",null," ",a.name," ",n.a.createElement("span",null," (",a.length," mi)")," "),n.a.createElement("p",{className:"text-muted"}," ",a.location," ")),n.a.createElement("form",null,n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"tel-input",className:"col-form-label"},"Enter Mobile to Receive SMS Updates"),n.a.createElement("input",{type:"tel",name:"tel-input",className:"form-control phoneinput",placeholder:"4251235678",pattern:"[0-9]{3}[0-9]{3}[0-9]{4}",required:!0,onChange:function(e){var a=Object(u.a)({},N);a=e.target.value,h(a)},value:N}))),n.a.createElement("div",{className:"modal-footer"},n.a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:v},"Cancel"),n.a.createElement("button",{type:"button",className:"btn btn-danger",onClick:function(){var e=a.id,l={phone:N,trail:a.name,external_id:e};console.log(l),i.a.post("".concat("https://trailmix-base.wm.r.appspot.com/diamondtrails","/trail/").concat(e,"/subscribe"),l).then((function(e){console.log(e.data),console.log("SENT OUT?!!!"),s(!1),h(""),t()})).catch((function(e){console.log(e.message)}))}},"Subscribe"))))},h=(t(419),t(449)),v=t(106),f=t.n(v),y=t(187),k=t.n(y),S=t(184),x=t.n(S),O=t(186),j=t.n(O),C=t(185),w=t.n(C),F=t(183),A=t.n(F),I=t(181),M=t.n(I),T=t(182),R=t.n(T),V=t(176),W=t.n(V),_=t(177),D=t.n(_),P=t(178),U=t.n(P),H=t(179),L=t.n(H),G=t(180),Y=t.n(G),K=function(e){var a=e.trail,t=e.refresh,c=Object(l.useState)(!1),r=Object(o.a)(c,2),m=r[0],s=r[1],u=Object(l.useState)({}),d=Object(o.a)(u,2),p=d[0],g=d[1],N=Object(l.useState)({}),v=Object(o.a)(N,2),y=v[0],S=v[1],O=Object(l.useState)({}),C=Object(o.a)(O,2),F=C[0],I=C[1],T=function(){g({}),S({}),I({}),s(!1)},V=function(e){var t={category:e.target.name,message:e.target.id,external_id:a.id};console.log(t),g(t)},_=function(e){var t=e.target.id+"% Full",l={category:e.target.name,message:t,external_id:a.id};console.log(l),S(l)},P=function(e){var t=e.target.id+" Visitors within 300ft",l={category:e.target.name,message:t,external_id:a.id};console.log(l),I(l)};return n.a.createElement("div",null,n.a.createElement(b.a,{variant:"contained",color:"primary",size:"large",className:"",startIcon:n.a.createElement(f.a,null),onClick:function(){s(!0)},value:"Thunder"},"Update Live Status"),n.a.createElement(E.a,{visible:m,onClickBackdrop:T,className:"text-center"},n.a.createElement("div",{className:"modal-header text-center"},n.a.createElement("h5",{className:"modal-title text-center"}," Update Live Status ")),n.a.createElement("div",{className:"modal-body"},n.a.createElement("h6",null," ",a.name," ",n.a.createElement("span",null," (",a.length," mi)")," "),n.a.createElement("p",{className:"text-muted"}," ",a.location," ")),n.a.createElement("div",{className:"modal-body"},n.a.createElement("h6",null," PARKING ")),n.a.createElement("div",{className:"d-flex flex-row justify-content-center"},n.a.createElement("div",{className:"custom-control custom-radio"},n.a.createElement("input",{type:"radio",id:"0",name:"Parking",className:"custom-control-input",onClick:_}),n.a.createElement("label",{className:"custom-control-label",htmlFor:"0"},n.a.createElement(h.a,{color:"primary","aria-label":"capacity-0-full","data-toggle":"tooltip","data-placement":"top",title:"Parking Available 100%"},n.a.createElement(W.a,null)))),n.a.createElement("div",{className:"custom-control custom-radio"},n.a.createElement("input",{type:"radio",id:"25",name:"Parking",className:"custom-control-input",onClick:_}),n.a.createElement("label",{className:"custom-control-label",htmlFor:"25"},n.a.createElement(h.a,{color:"primary","aria-label":"capacity-25-full","data-toggle":"tooltip","data-placement":"top",title:"25% Full"},n.a.createElement(D.a,null)))),n.a.createElement("div",{className:"custom-control custom-radio"},n.a.createElement("input",{type:"radio",id:"50",name:"Parking",className:"custom-control-input",onClick:_}),n.a.createElement("label",{className:"custom-control-label",htmlFor:"50"},n.a.createElement(h.a,{color:"primary","aria-label":"capacity-50-full","data-toggle":"tooltip","data-placement":"top",title:"50% Full"},n.a.createElement(U.a,null)))),n.a.createElement("div",{className:"custom-control custom-radio"},n.a.createElement("input",{type:"radio",id:"75",name:"Parking",className:"custom-control-input",onClick:_}),n.a.createElement("label",{className:"custom-control-label",htmlFor:"75"},n.a.createElement(h.a,{color:"secondary","aria-label":"capacity-75-full","data-toggle":"tooltip","data-placement":"top",title:"75% Full"},n.a.createElement(L.a,null)))),n.a.createElement("div",{className:"custom-control custom-radio"},n.a.createElement("input",{type:"radio",id:"100",name:"Parking",className:"custom-control-input",onClick:_}),n.a.createElement("label",{className:"custom-control-label",htmlFor:"100"},n.a.createElement(h.a,{color:"secondary","aria-label":"capacity-100-full","data-toggle":"tooltip","data-placement":"top",title:"100% Full"},n.a.createElement(Y.a,null))))),n.a.createElement("div",{className:"modal-body"},n.a.createElement("h6",null," VISITORS  "),n.a.createElement("p",{className:"text-muted"}," (within 300ft) ")),n.a.createElement("div",{className:"d-flex flex-row justify-content-center"},n.a.createElement("div",{className:"custom-control custom-radio"},n.a.createElement("input",{type:"radio",id:"1-5",name:"Visitor",className:"custom-control-input",onClick:P}),n.a.createElement("label",{className:"custom-control-label",htmlFor:"1-5"},n.a.createElement(h.a,{color:"primary","aria-label":"1-5visitorsinsight","data-toggle":"tooltip","data-placement":"top",title:"1-5 visitors in 300ft"},n.a.createElement(M.a,null)))),n.a.createElement("div",{className:"custom-control custom-radio"},n.a.createElement("input",{type:"radio",id:"5-9",name:"Visitor",className:"custom-control-input",onClick:P}),n.a.createElement("label",{className:"custom-control-label",htmlFor:"5-9"},n.a.createElement(h.a,{color:"primary","aria-label":"5-9visitorsinsight","data-toggle":"tooltip","data-placement":"top",title:"5-9 visitors in 300ft"},n.a.createElement(R.a,null)))),n.a.createElement("div",{className:"custom-control custom-radio"},n.a.createElement("input",{type:"radio",id:"9+",name:"Visitor",className:"custom-control-input",onClick:P}),n.a.createElement("label",{className:"custom-control-label",htmlFor:"9+"},n.a.createElement(h.a,{color:"secondary","aria-label":"9plusvisitorsinsight","data-toggle":"tooltip","data-placement":"top",title:"9+ visitors in 300ft"},n.a.createElement(A.a,null))))),n.a.createElement("div",{className:"modal-body"},n.a.createElement("h6",null," WEATHER ")),n.a.createElement("div",{className:"d-flex flex-row justify-content-center"},n.a.createElement("div",{className:"custom-control custom-radio"},n.a.createElement("input",{type:"radio",id:"Sun",name:"Weather",className:"custom-control-input",onClick:V}),n.a.createElement("label",{className:"custom-control-label",htmlFor:"Sun"},n.a.createElement(h.a,{color:"secondary","aria-label":"Sun","data-toggle":"tooltip","data-placement":"top",title:"sun"},n.a.createElement(x.a,null)))),n.a.createElement("div",{className:"custom-control custom-radio"},n.a.createElement("input",{type:"radio",id:"Rain",name:"Weather",className:"custom-control-input",onClick:V}),n.a.createElement("label",{className:"custom-control-label",htmlFor:"Rain"},n.a.createElement(h.a,{color:"primary","aria-label":"Rain","data-toggle":"tooltip","data-placement":"top",title:"rain"},n.a.createElement(w.a,null)))),n.a.createElement("div",{className:"custom-control custom-radio"},n.a.createElement("input",{type:"radio",id:"Thunder",name:"Weather",className:"custom-control-input",onClick:V}),n.a.createElement("label",{className:"custom-control-label",htmlFor:"Thunder"},n.a.createElement(h.a,{color:"secondary","aria-label":"Thunder","data-toggle":"tooltip","data-placement":"top",title:"thunder"},n.a.createElement(f.a,null)))),n.a.createElement("div",{className:"custom-control custom-radio"},n.a.createElement("input",{type:"radio",id:"Hail",name:"Weather",className:"custom-control-input",onClick:V}),n.a.createElement("label",{className:"custom-control-label",htmlFor:"Hail"},n.a.createElement(h.a,{color:"secondary","aria-label":"Hail","data-toggle":"tooltip","data-placement":"top",title:"hail"},n.a.createElement(j.a,null)))),n.a.createElement("div",{className:"custom-control custom-radio"},n.a.createElement("input",{type:"radio",id:"Snow",name:"Weather",className:"custom-control-input",onClick:V}),n.a.createElement("label",{className:"custom-control-label",htmlFor:"Snow"},n.a.createElement(h.a,{color:"primary","aria-label":"Snow",onClick:V,value:"Snow","data-toggle":"tooltip","data-placement":"top",title:"snow"},n.a.createElement(k.a,{name:"Snow"}))))),n.a.createElement("div",{className:"modal-footer"},n.a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:T},"Cancel"),n.a.createElement("button",{type:"button",className:"btn btn-danger",onClick:function(){if(y.message||F.message||p.message){for(var e=a.id,l=0,n=[y,F,p];l<n.length;l++){var c=n[l];c.message&&i.a.post("".concat("https://trailmix-base.wm.r.appspot.com/diamondtrails","/trail/").concat(e,"/live-update"),c).then((function(e){console.log(e.data),console.log("SENT OUT?!!!"),s(!1)})).catch((function(e){console.log(e.message)}))}t()}else console.log("No updates tracked")}},"Update"))))},Q=function(e){var a=e.externalID,t=[{message:"SHARE LIVE STATUS",created_at:""}],c=Object(l.useState)({}),r=Object(o.a)(c,2),s=r[0],u=r[1],d=Object(l.useState)(t),E=Object(o.a)(d,2),p=E[0],g=E[1],b=Object(l.useState)(t),h=Object(o.a)(b,2),v=h[0],f=h[1],y=Object(l.useState)(t),k=Object(o.a)(y,2),S=k[0],x=k[1],O=Object(l.useState)(0),j=Object(o.a)(O,2),C=j[0],w=j[1],F=Object(l.useState)(0),A=Object(o.a)(F,2),I=A[0],M=A[1];Object(l.useEffect)((function(){i.a.get("".concat("https://trailmix-base.wm.r.appspot.com/diamondtrails","/trail/").concat(a)).then((function(e){console.log(e.data.trails[0]),console.log("JOYFUL tears! Received data from all these layers"),console.log(e.data.weather_updates);var a=e.data.trails[0];u(a),w(e.data.subscriptions),x(e.data.weather_updates),g(e.data.parking_updates),f(e.data.visitor_updates)})).catch((function(e){console.log(e.message)}))}),[I]);var T=function(){M(I+1)};Object(m.withScriptjs)(Object(m.withGoogleMap)((function(){return n.a.createElement(m.GoogleMap,{defaultZoom:10,defaultCenter:{lat:s.latitude,lng:s.longitude}},n.a.createElement(m.Marker,{position:{lat:s.latitude,lng:s.longitude}}))})));return n.a.createElement("div",{className:"container trail-main-container "},n.a.createElement("div",{className:"card"},n.a.createElement("img",{className:"card-img trail-img",src:s.imgMedium,alt:"Card image"}),n.a.createElement("div",{className:"card-img-overlay"},n.a.createElement("p",{className:"card-text"}))),n.a.createElement("h3",null,s.name),n.a.createElement("p",null,n.a.createElement("span",null," ",s.location," ")),n.a.createElement("p",null," \u2764\ufe0f  ",C," subscribed within past 3 days "),n.a.createElement(N,{trail:s,refresh:T}),n.a.createElement(K,{trail:s,refresh:T}),n.a.createElement("div",{className:"card-deck"},n.a.createElement("div",{className:"card"},n.a.createElement("img",{className:"card-img card-img-top",src:"https://lh3.googleusercontent.com/pw/ACtC-3cnK49FbkKIBreGnKxXexLYxK_Ta57aITBbQE4yYtRyV3foDMd9HyGBpUouADLSY4Q0dda1BzXbAhyUSFSoVTu7WjDpcCl5Drl9G2ndLkD-M3xiYW-PzMnjINXnr5erFkWNK3b9VqlQJneARaytSH2FgA=w1692-h1128-no?authuser=0",alt:"Card image cap"}),n.a.createElement("div",{className:"card-img-overlay text-center text-light"},n.a.createElement("h3",null," Parking ")),n.a.createElement("div",{className:"card-body"},n.a.createElement("p",{className:"card-text"},"\ud83c\udd7f\ufe0f Parking ",function(){var e=t[0].message;return 0!==p.length&&(e=p[0].message),e}()," "),n.a.createElement("a",{className:"card-link"}," ",function(){var e=t[0].created_at;return 0!==p.length&&(e=p[0].created_at),e}()," "),n.a.createElement("a",{href:"#!",className:"card-link"}," See History "))),n.a.createElement("div",{className:"card"},n.a.createElement("img",{className:"card-img card-img-top",src:"https://lh3.googleusercontent.com/pw/ACtC-3f_QJYX55Fplkf43FB_1lXkjVLOj879wdVAiqOJiXkoUaP1fw_suexKflTRns3kQO1KRVj3jezRQT5V9JeutIc8UHRqRrFG9IiToFRoounFyIWAqJaQ1_40R6fvQ2BNczZ12YGQILNUxM6AzXn98xuvQg=w1840-h1226-no?authuser=0",alt:"Card image cap"}),n.a.createElement("div",{className:"card-img-overlay text-center text-light"},n.a.createElement("h3",null," Visitors ")),n.a.createElement("div",{className:"card-body"},n.a.createElement("p",{className:"card-text"}," \ud83e\udd7e Visitors ",function(){var e=t[0].message;return 0!==v.length&&(e=v[0].message),e}()," "),n.a.createElement("a",{className:"card-link"}," ",function(){var e=t[0].created_at;return 0!==v.length&&(e=v[0].created_at),e}()," "),n.a.createElement("a",{href:"#!",className:"card-link"}," See History "))),n.a.createElement("div",{className:"card"},n.a.createElement("img",{className:"card-img card-img-top",src:"https://lh3.googleusercontent.com/pw/ACtC-3e6hm4nmqR9HWG4fPUvAyeWoSo34lYA9J0vv01VgLPbI4zyvEZ-CESUVZnycYH-Xv6_M9MXnGFRPVZFPM_IFqY6ExQPKlM-2bGW9FOzuYEzevXsKz97QIbEg39i4zPXueR1GQk_jVD3uYtODbqBt8X8ZQ=w1840-h1226-no?authuser=0",alt:"Card image cap"}),n.a.createElement("div",{className:"card-img-overlay text-center text-light"},n.a.createElement("h3",null," Weather ")),n.a.createElement("div",{className:"card-body"},n.a.createElement("p",{className:"card-text"}," \u2744\ufe0f Weather ",function(){var e=t[0].message;return 0!==S.length&&(e=S[0].message),e}()," "),n.a.createElement("a",{className:"card-link"}," ",function(){var e=t[0].created_at;return 0!==S.length&&(e=S[0].created_at),e}()," "),n.a.createElement("a",{href:"#!",className:"card-link"}," See History ")))),"Unknown"==s.conditionStatus?"":n.a.createElement("div",{className:"card"},n.a.createElement("div",{className:"card-header"},n.a.createElement("p",null," \ud83d\udea7 Other Conditions Update ")),n.a.createElement("div",{className:"card-body"},n.a.createElement("a",{className:"card-link"}," ",s.conditionStatus," "),n.a.createElement("a",{className:"card-link"}," ",s.conditionDetails," "),n.a.createElement("a",{className:"card-link"}," ",s.conditionDate," "))),n.a.createElement("div",{className:"card"},n.a.createElement("div",{className:"card-body"},n.a.createElement("h4",{className:"card-title"},"  ",s.name," "),n.a.createElement("p",{className:"card-text mb-2 text-muted"}," ",s.summary," "),n.a.createElement("p",{className:"card-text mb-2"}," ",s.location," "),n.a.createElement("p",{className:"card-text mb-2"}," ",s.length," Miles "),n.a.createElement("p",{className:"card-text mb-2 "}," ",s.ascent,"' Up "),n.a.createElement("p",{className:"card-text mb-2 "}," ",s.descent,"' Down "))))},X=(t(420),t(188)),z=t(4),B=(t(421),t(422),function(e){var a=e.trail;return n.a.createElement("div",{className:"card"},n.a.createElement("div",{className:"card-body"},n.a.createElement("h4",{className:"card-title"}," ",n.a.createElement("a",{href:"/trail/".concat(a.id)}," ",a.name," ")," "),n.a.createElement("p",{className:"card-text mb-2 text-muted"}," ",a.summary," "),n.a.createElement("a",{className:"card-link"}," ",a.location," "),n.a.createElement("a",{className:"card-link"}," ",a.length," mi")))}),J=["AK","AL","AR","AZ","CA","CO","CT","DE","FL","GA","HI","IA","ID","IL","IN","KS","KY","LA","MA","MD","ME","MI","MN","MO","MS","MT","NC","ND","NE","NH","NJ","NM","NV","NY","OH","OK","OR","PA","RI","SC","SD","TN","TX","UT","VA","VT","WA","WI","WV","WY"],q=function(e){var a=Object(l.useState)({value:""}),t=Object(o.a)(a,2),c=t[0],r=t[1],m=Object(l.useState)(""),s=Object(o.a)(m,2),d=s[0],E=s[1],p=Object(l.useState)([]),g=Object(o.a)(p,2),b=g[0],N=g[1],h=Object(l.useState)([]),v=Object(o.a)(h,2),f=v[0],y=v[1],k=function(e){e.preventDefault();var a=b.filter((function(e){return e.name.toLowerCase().includes(d.toLowerCase())}));y(a),E("")},S=f.map((function(e){return n.a.createElement(B,{key:e.id,trail:e})})),x=J.map((function(e){return n.a.createElement("option",{value:e}," ",e," ")}));return n.a.createElement("div",{className:"d-flex flex-column trailsearch-main-container"},n.a.createElement("select",{value:c.value,onChange:function(e){r({value:e.target.value}),y([]),console.log(c),i.a.get("".concat("https://trailmix-base.wm.r.appspot.com/diamondtrails","/all-trails/").concat(e.target.value)).then((function(e){console.log(e.data.trails);var a=e.data.trails;N(a)})).catch((function(e){console.log(e.message)}))},className:"custom-select"},n.a.createElement("option",{defaultValue:!0},"Select State"),n.a.createElement("option",{value:"WA"},"WA"),x),n.a.createElement("form",{onSubmit:k,className:"align-self-center"},n.a.createElement("div",{className:"input-group"},n.a.createElement("input",{type:"type",name:"query",className:"searchbox",onChange:function(e){var a=Object(u.a)({},d);a=e.target.value,E(a)},value:d}),n.a.createElement("div",{className:"input-group-append"},n.a.createElement("input",{className:"btn btn-secondary btn-style bg-dark",type:"submit",name:"submit",value:"Search",onClick:k})))),S)};Object(m.withScriptjs)(Object(m.withGoogleMap)((function(){return n.a.createElement(m.GoogleMap,{defaultZoom:10,defaultCenter:{lat:47.62,lng:-122.19}})})));var Z=function(){var e=Object(z.g)();return n.a.createElement("div",null,n.a.createElement(z.c,null,n.a.createElement(z.a,{path:"".concat(e.path,"/:externalID")},n.a.createElement($,null)),n.a.createElement(z.a,{path:e.path},n.a.createElement("h3",null,"Please select a topic. "))))},$=function(){var e=Object(z.f)().externalID;return n.a.createElement(Q,{externalID:e})},ee=function(){return n.a.createElement(X.a,null,n.a.createElement("div",null,n.a.createElement("nav",null),n.a.createElement(z.c,null,n.a.createElement(z.a,{path:"/trails-search"},n.a.createElement(q,null)),n.a.createElement(z.a,{path:"/trail"},n.a.createElement(Z,null)),n.a.createElement(z.a,{path:"/"},n.a.createElement(q,null)))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));t(424);r.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(ee,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[195,1,2]]]);
//# sourceMappingURL=main.e233d063.chunk.js.map