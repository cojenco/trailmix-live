(this["webpackJsonptrails-live"]=this["webpackJsonptrails-live"]||[]).push([[0],{187:function(e,a,t){e.exports=t(417)},192:function(e,a,t){},193:function(e,a,t){},408:function(e,a,t){},412:function(e,a,t){},413:function(e,a,t){},414:function(e,a,t){},415:function(e,a,t){},417:function(e,a,t){"use strict";t.r(a);var l=t(0),c=t.n(l),n=t(29),r=t.n(n),o=(t(192),t(4)),m=(t(193),t(34)),s=t(30),i=t.n(s),u=t(75),d=(t(408),t(73)),p=t.n(d),E=t(169),g=t.n(E),b=t(441),N=function(e){var a=e.trail,t=e.refresh,n=Object(l.useState)(!1),r=Object(o.a)(n,2),m=r[0],s=r[1],d=Object(l.useState)(""),E=Object(o.a)(d,2),N=E[0],v=E[1],h=function(){s(!1)};return c.a.createElement("div",null,c.a.createElement(b.a,{variant:"contained",color:"secondary",size:"large",className:"",startIcon:c.a.createElement(g.a,null),onClick:function(){s(!0)},value:"Thunder"},"Subscribe to Trail"),c.a.createElement(p.a,{visible:m,onClickBackdrop:h,className:"text-center"},c.a.createElement("div",{className:"modal-header text-center"},c.a.createElement("h5",{className:"modal-title text-center"}," Subscribe to Trail ")),c.a.createElement("div",{className:"modal-body"},c.a.createElement("h6",null," ",a.name," ",c.a.createElement("span",null," (",a.length," mi)")," "),c.a.createElement("p",{className:"text-muted"}," ",a.location," ")),c.a.createElement("form",null,c.a.createElement("div",{className:"form-group"},c.a.createElement("label",{htmlFor:"tel-input",className:"col-form-label"},"Enter Mobile to Receive SMS Updates"),c.a.createElement("input",{type:"tel",name:"tel-input",className:"form-control phoneinput",placeholder:"4251235678",pattern:"[0-9]{3}[0-9]{3}[0-9]{4}",required:!0,onChange:function(e){var a=Object(u.a)({},N);a=e.target.value,v(a)},value:N}))),c.a.createElement("div",{className:"modal-footer"},c.a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:h},"Cancel"),c.a.createElement("button",{type:"button",className:"btn btn-danger",onClick:function(){var e=a.id,l={phone:N,trail:a.name,external_id:e};console.log(l),i.a.post("".concat("https://trailmix-base.wm.r.appspot.com/diamondtrails","/trail/").concat(e,"/subscribe"),l).then((function(e){console.log(e.data),console.log("SENT OUT?!!!"),s(!1),v(""),t()})).catch((function(e){console.log(e.message)}))}},"Subscribe"))))},v=(t(412),t(442)),h=t(101),f=t.n(h),y=t(181),k=t.n(y),S=t(178),x=t.n(S),O=t(180),j=t.n(O),C=t(179),w=t.n(C),F=t(177),A=t.n(F),T=t(175),I=t.n(T),M=t(176),R=t.n(M),V=t(170),W=t.n(V),_=t(171),U=t.n(_),D=t(172),P=t.n(D),H=t(173),L=t.n(H),Y=t(174),K=t.n(Y),Q=function(e){var a=e.trail,t=e.refresh,n=Object(l.useState)(!1),r=Object(o.a)(n,2),m=r[0],s=r[1],u=Object(l.useState)({}),d=Object(o.a)(u,2),E=d[0],g=d[1],N=Object(l.useState)({}),h=Object(o.a)(N,2),y=h[0],S=h[1],O=Object(l.useState)({}),C=Object(o.a)(O,2),F=C[0],T=C[1],M=function(){g({}),S({}),T({}),s(!1)},V=function(e){var t={category:e.target.name,message:e.target.id,external_id:a.id};console.log(t),g(t)},_=function(e){var t=e.target.id+"% Full",l={category:e.target.name,message:t,external_id:a.id};console.log(l),S(l)},D=function(e){var t=e.target.id+" Visitors within 300ft",l={category:e.target.name,message:t,external_id:a.id};console.log(l),T(l)};return c.a.createElement("div",null,c.a.createElement(b.a,{variant:"contained",color:"primary",size:"large",className:"",startIcon:c.a.createElement(f.a,null),onClick:function(){s(!0)},value:"Thunder"},"Update Live Status"),c.a.createElement(p.a,{visible:m,onClickBackdrop:M,className:"text-center"},c.a.createElement("div",{className:"modal-header text-center"},c.a.createElement("h5",{className:"modal-title text-center"}," Update Live Status ")),c.a.createElement("div",{className:"modal-body"},c.a.createElement("h6",null," ",a.name," ",c.a.createElement("span",null," (",a.length," mi)")," "),c.a.createElement("p",{className:"text-muted"}," ",a.location," ")),c.a.createElement("div",{className:"modal-body"},c.a.createElement("h6",null," PARKING ")),c.a.createElement("div",{className:"d-flex flex-row justify-content-center"},c.a.createElement("div",{className:"custom-control custom-radio"},c.a.createElement("input",{type:"radio",id:"0",name:"Parking",className:"custom-control-input",onClick:_}),c.a.createElement("label",{className:"custom-control-label",htmlFor:"0"},c.a.createElement(v.a,{color:"primary","aria-label":"capacity-0-full","data-toggle":"tooltip","data-placement":"top",title:"Parking Available 100%"},c.a.createElement(W.a,null)))),c.a.createElement("div",{className:"custom-control custom-radio"},c.a.createElement("input",{type:"radio",id:"25",name:"Parking",className:"custom-control-input",onClick:_}),c.a.createElement("label",{className:"custom-control-label",htmlFor:"25"},c.a.createElement(v.a,{color:"primary","aria-label":"capacity-25-full","data-toggle":"tooltip","data-placement":"top",title:"25% Full"},c.a.createElement(U.a,null)))),c.a.createElement("div",{className:"custom-control custom-radio"},c.a.createElement("input",{type:"radio",id:"50",name:"Parking",className:"custom-control-input",onClick:_}),c.a.createElement("label",{className:"custom-control-label",htmlFor:"50"},c.a.createElement(v.a,{color:"primary","aria-label":"capacity-50-full","data-toggle":"tooltip","data-placement":"top",title:"50% Full"},c.a.createElement(P.a,null)))),c.a.createElement("div",{className:"custom-control custom-radio"},c.a.createElement("input",{type:"radio",id:"75",name:"Parking",className:"custom-control-input",onClick:_}),c.a.createElement("label",{className:"custom-control-label",htmlFor:"75"},c.a.createElement(v.a,{color:"secondary","aria-label":"capacity-75-full","data-toggle":"tooltip","data-placement":"top",title:"75% Full"},c.a.createElement(L.a,null)))),c.a.createElement("div",{className:"custom-control custom-radio"},c.a.createElement("input",{type:"radio",id:"100",name:"Parking",className:"custom-control-input",onClick:_}),c.a.createElement("label",{className:"custom-control-label",htmlFor:"100"},c.a.createElement(v.a,{color:"secondary","aria-label":"capacity-100-full","data-toggle":"tooltip","data-placement":"top",title:"100% Full"},c.a.createElement(K.a,null))))),c.a.createElement("div",{className:"modal-body"},c.a.createElement("h6",null," VISITORS  "),c.a.createElement("p",{className:"text-muted"}," (within 300ft) ")),c.a.createElement("div",{className:"d-flex flex-row justify-content-center"},c.a.createElement("div",{className:"custom-control custom-radio"},c.a.createElement("input",{type:"radio",id:"1-5",name:"Visitor",className:"custom-control-input",onClick:D}),c.a.createElement("label",{className:"custom-control-label",htmlFor:"1-5"},c.a.createElement(v.a,{color:"primary","aria-label":"1-5visitorsinsight","data-toggle":"tooltip","data-placement":"top",title:"1-5 visitors in 300ft"},c.a.createElement(I.a,null)))),c.a.createElement("div",{className:"custom-control custom-radio"},c.a.createElement("input",{type:"radio",id:"5-9",name:"Visitor",className:"custom-control-input",onClick:D}),c.a.createElement("label",{className:"custom-control-label",htmlFor:"5-9"},c.a.createElement(v.a,{color:"primary","aria-label":"5-9visitorsinsight","data-toggle":"tooltip","data-placement":"top",title:"5-9 visitors in 300ft"},c.a.createElement(R.a,null)))),c.a.createElement("div",{className:"custom-control custom-radio"},c.a.createElement("input",{type:"radio",id:"9+",name:"Visitor",className:"custom-control-input",onClick:D}),c.a.createElement("label",{className:"custom-control-label",htmlFor:"9+"},c.a.createElement(v.a,{color:"secondary","aria-label":"9plusvisitorsinsight","data-toggle":"tooltip","data-placement":"top",title:"9+ visitors in 300ft"},c.a.createElement(A.a,null))))),c.a.createElement("div",{className:"modal-body"},c.a.createElement("h6",null," WEATHER ")),c.a.createElement("div",{className:"d-flex flex-row justify-content-center"},c.a.createElement("div",{className:"custom-control custom-radio"},c.a.createElement("input",{type:"radio",id:"Sun",name:"Weather",className:"custom-control-input",onClick:V}),c.a.createElement("label",{className:"custom-control-label",htmlFor:"Sun"},c.a.createElement(v.a,{color:"secondary","aria-label":"Sun","data-toggle":"tooltip","data-placement":"top",title:"sun"},c.a.createElement(x.a,null)))),c.a.createElement("div",{className:"custom-control custom-radio"},c.a.createElement("input",{type:"radio",id:"Rain",name:"Weather",className:"custom-control-input",onClick:V}),c.a.createElement("label",{className:"custom-control-label",htmlFor:"Rain"},c.a.createElement(v.a,{color:"primary","aria-label":"Rain","data-toggle":"tooltip","data-placement":"top",title:"rain"},c.a.createElement(w.a,null)))),c.a.createElement("div",{className:"custom-control custom-radio"},c.a.createElement("input",{type:"radio",id:"Thunder",name:"Weather",className:"custom-control-input",onClick:V}),c.a.createElement("label",{className:"custom-control-label",htmlFor:"Thunder"},c.a.createElement(v.a,{color:"secondary","aria-label":"Thunder","data-toggle":"tooltip","data-placement":"top",title:"thunder"},c.a.createElement(f.a,null)))),c.a.createElement("div",{className:"custom-control custom-radio"},c.a.createElement("input",{type:"radio",id:"Hail",name:"Weather",className:"custom-control-input",onClick:V}),c.a.createElement("label",{className:"custom-control-label",htmlFor:"Hail"},c.a.createElement(v.a,{color:"secondary","aria-label":"Hail","data-toggle":"tooltip","data-placement":"top",title:"hail"},c.a.createElement(j.a,null)))),c.a.createElement("div",{className:"custom-control custom-radio"},c.a.createElement("input",{type:"radio",id:"Snow",name:"Weather",className:"custom-control-input",onClick:V}),c.a.createElement("label",{className:"custom-control-label",htmlFor:"Snow"},c.a.createElement(v.a,{color:"primary","aria-label":"Snow",onClick:V,value:"Snow","data-toggle":"tooltip","data-placement":"top",title:"snow"},c.a.createElement(k.a,{name:"Snow"}))))),c.a.createElement("div",{className:"modal-footer"},c.a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:M},"Cancel"),c.a.createElement("button",{type:"button",className:"btn btn-danger",onClick:function(){if(y.message||F.message||E.message){for(var e=a.id,l=0,c=[y,F,E];l<c.length;l++){var n=c[l];n.message&&i.a.post("".concat("https://trailmix-base.wm.r.appspot.com/diamondtrails","/trail/").concat(e,"/live-update"),n).then((function(e){console.log(e.data),console.log("SENT OUT?!!!"),s(!1)})).catch((function(e){console.log(e.message)}))}t()}else console.log("No updates tracked")}},"Update"))))},G=function(e){var a=e.externalID,t=[{message:"SHARE LIVE STATUS",created_at:""}],n=Object(l.useState)({}),r=Object(o.a)(n,2),s=r[0],u=r[1],d=Object(l.useState)(t),p=Object(o.a)(d,2),E=p[0],g=p[1],b=Object(l.useState)(t),v=Object(o.a)(b,2),h=v[0],f=v[1],y=Object(l.useState)(t),k=Object(o.a)(y,2),S=k[0],x=k[1],O=Object(l.useState)(0),j=Object(o.a)(O,2),C=j[0],w=j[1],F=Object(l.useState)(0),A=Object(o.a)(F,2),T=A[0],I=A[1];Object(l.useEffect)((function(){i.a.get("".concat("https://trailmix-base.wm.r.appspot.com/diamondtrails","/trail/").concat(a)).then((function(e){console.log(e.data.trails[0]),console.log("JOYFUL tears! Received data from all these layers"),console.log(e.data.weather_updates);var a=e.data.trails[0];u(a),w(e.data.subscriptions),x(e.data.weather_updates),g(e.data.parking_updates),f(e.data.visitor_updates)})).catch((function(e){console.log(e.message)}))}),[T]);var M=function(){I(T+1)};Object(m.withScriptjs)(Object(m.withGoogleMap)((function(){return c.a.createElement(m.GoogleMap,{defaultZoom:10,defaultCenter:{lat:s.latitude,lng:s.longitude}},c.a.createElement(m.Marker,{position:{lat:s.latitude,lng:s.longitude}}))})));return c.a.createElement("div",{className:"container trail-main-container "},c.a.createElement("div",{className:"card"},c.a.createElement("img",{className:"card-img trail-img",src:s.imgMedium,alt:"Card image"}),c.a.createElement("div",{className:"card-img-overlay"},c.a.createElement("p",{className:"card-text"}))),c.a.createElement("h3",null,s.name),c.a.createElement("p",null,c.a.createElement("span",null," ",s.location," ")),c.a.createElement("p",null," \u2764\ufe0f  ",C," subscribed within past 3 days "),c.a.createElement(N,{trail:s,refresh:M}),c.a.createElement(Q,{trail:s,refresh:M}),c.a.createElement("div",{className:"card-deck"},c.a.createElement("div",{className:"card"},c.a.createElement("img",{className:"card-img card-img-top",src:"https://lh3.googleusercontent.com/pw/ACtC-3cnK49FbkKIBreGnKxXexLYxK_Ta57aITBbQE4yYtRyV3foDMd9HyGBpUouADLSY4Q0dda1BzXbAhyUSFSoVTu7WjDpcCl5Drl9G2ndLkD-M3xiYW-PzMnjINXnr5erFkWNK3b9VqlQJneARaytSH2FgA=w1692-h1128-no?authuser=0",alt:"Card image cap"}),c.a.createElement("div",{className:"card-img-overlay text-center text-light"},c.a.createElement("h3",null," Parking ")),c.a.createElement("div",{className:"card-body"},c.a.createElement("p",{className:"card-text"},"\ud83c\udd7f\ufe0f Parking ",function(){var e=t[0].message;return 0!==E.length&&(e=E[0].message),e}()," "),c.a.createElement("a",{className:"card-link"}," ",function(){var e=t[0].created_at;return 0!==E.length&&(e=E[0].created_at),e}()," "),c.a.createElement("a",{href:"#!",className:"card-link"}," See History "))),c.a.createElement("div",{className:"card"},c.a.createElement("img",{className:"card-img card-img-top",src:"https://lh3.googleusercontent.com/pw/ACtC-3f_QJYX55Fplkf43FB_1lXkjVLOj879wdVAiqOJiXkoUaP1fw_suexKflTRns3kQO1KRVj3jezRQT5V9JeutIc8UHRqRrFG9IiToFRoounFyIWAqJaQ1_40R6fvQ2BNczZ12YGQILNUxM6AzXn98xuvQg=w1840-h1226-no?authuser=0",alt:"Card image cap"}),c.a.createElement("div",{className:"card-img-overlay text-center text-light"},c.a.createElement("h3",null," Visitors ")),c.a.createElement("div",{className:"card-body"},c.a.createElement("p",{className:"card-text"}," \ud83e\udd7e Visitors ",function(){var e=t[0].message;return 0!==h.length&&(e=h[0].message),e}()," "),c.a.createElement("a",{className:"card-link"}," ",function(){var e=t[0].created_at;return 0!==h.length&&(e=h[0].created_at),e}()," "),c.a.createElement("a",{href:"#!",className:"card-link"}," See History "))),c.a.createElement("div",{className:"card"},c.a.createElement("img",{className:"card-img card-img-top",src:"https://lh3.googleusercontent.com/pw/ACtC-3e6hm4nmqR9HWG4fPUvAyeWoSo34lYA9J0vv01VgLPbI4zyvEZ-CESUVZnycYH-Xv6_M9MXnGFRPVZFPM_IFqY6ExQPKlM-2bGW9FOzuYEzevXsKz97QIbEg39i4zPXueR1GQk_jVD3uYtODbqBt8X8ZQ=w1840-h1226-no?authuser=0",alt:"Card image cap"}),c.a.createElement("div",{className:"card-img-overlay text-center text-light"},c.a.createElement("h3",null," Weather ")),c.a.createElement("div",{className:"card-body"},c.a.createElement("p",{className:"card-text"}," \u2744\ufe0f Weather ",function(){var e=t[0].message;return 0!==S.length&&(e=S[0].message),e}()," "),c.a.createElement("a",{className:"card-link"}," ",function(){var e=t[0].created_at;return 0!==S.length&&(e=S[0].created_at),e}()," "),c.a.createElement("a",{href:"#!",className:"card-link"}," See History ")))),"Unknown"==s.conditionStatus?"":c.a.createElement("div",{className:"card"},c.a.createElement("div",{className:"card-header"},c.a.createElement("p",null," \ud83d\udea7 Other Conditions Update ")),c.a.createElement("div",{className:"card-body"},c.a.createElement("a",{className:"card-link"}," ",s.conditionStatus," "),c.a.createElement("a",{className:"card-link"}," ",s.conditionDetails," "),c.a.createElement("a",{className:"card-link"}," ",s.conditionDate," "))),c.a.createElement("div",{className:"card"},c.a.createElement("div",{className:"card-body"},c.a.createElement("h4",{className:"card-title"},"  ",s.name," "),c.a.createElement("p",{className:"card-text mb-2 text-muted"}," ",s.summary," "),c.a.createElement("p",{className:"card-text mb-2"}," ",s.location," "),c.a.createElement("p",{className:"card-text mb-2"}," ",s.length," Miles "),c.a.createElement("p",{className:"card-text mb-2 "}," ",s.ascent,"' Up "),c.a.createElement("p",{className:"card-text mb-2 "}," ",s.descent,"' Down "))))},X=(t(413),t(414),t(415),function(e){var a=e.trail,t=e.onSelectTrail;return c.a.createElement("div",{className:"card"},c.a.createElement("div",{className:"card-body"},c.a.createElement("h4",{className:"card-title"}," ",c.a.createElement("a",{href:"#",onClick:function(){console.log(a.id),t(a.id)}}," ",a.name," ")," "),c.a.createElement("p",{className:"card-text mb-2 text-muted"}," ",a.summary," "),c.a.createElement("a",{className:"card-link"}," ",a.location," "),c.a.createElement("a",{className:"card-link"}," ",a.length," mi")))}),z=["AK","AL","AR","AZ","CA","CO","CT","DE","FL","GA","HI","IA","ID","IL","IN","KS","KY","LA","MA","MD","ME","MI","MN","MO","MS","MT","NC","ND","NE","NH","NJ","NM","NV","NY","OH","OK","OR","PA","RI","SC","SD","TN","TX","UT","VA","VT","WA","WI","WV","WY"],B=function(e){var a=e.onSelectTrail,t=Object(l.useState)({value:""}),n=Object(o.a)(t,2),r=n[0],m=n[1],s=Object(l.useState)(""),d=Object(o.a)(s,2),p=d[0],E=d[1],g=Object(l.useState)([]),b=Object(o.a)(g,2),N=b[0],v=b[1],h=Object(l.useState)([]),f=Object(o.a)(h,2),y=f[0],k=f[1],S=function(e){e.preventDefault();var a=N.filter((function(e){return e.name.toLowerCase().includes(p.toLowerCase())}));k(a),E("")},x=y.map((function(e){return c.a.createElement(X,{key:e.id,trail:e,onSelectTrail:a})})),O=z.map((function(e){return c.a.createElement("option",{key:e,value:e}," ",e," ")}));return c.a.createElement("div",{className:"d-flex flex-column trailsearch-main-container"},c.a.createElement("select",{value:r.value,onChange:function(e){m({value:e.target.value}),k([]),console.log(r),i.a.get("".concat("https://trailmix-base.wm.r.appspot.com/diamondtrails","/all-trails/").concat(e.target.value)).then((function(e){var a=e.data.trails;v(a)})).catch((function(e){console.log(e.message)}))},className:"custom-select"},c.a.createElement("option",{defaultValue:!0},"Select State"),c.a.createElement("option",{value:"WA"},"WA"),O),c.a.createElement("form",{onSubmit:S,className:"align-self-center"},c.a.createElement("div",{className:"input-group"},c.a.createElement("input",{type:"type",name:"query",className:"searchbox",onChange:function(e){var a=Object(u.a)({},p);a=e.target.value,E(a)},value:p}),c.a.createElement("div",{className:"input-group-append"},c.a.createElement("input",{className:"btn btn-secondary btn-style bg-dark",type:"submit",name:"submit",value:"Search",onClick:S})))),x)},J=function(){var e=Object(l.useState)(null),a=Object(o.a)(e,2),t=a[0],n=a[1];return c.a.createElement("div",null,t?c.a.createElement(G,{externalID:t}):c.a.createElement(B,{onSelectTrail:function(e){console.log(e),n(e)}}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));t(416);r.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(J,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[187,1,2]]]);
//# sourceMappingURL=main.37891b67.chunk.js.map