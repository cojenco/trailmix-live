(this["webpackJsonptrails-live"]=this["webpackJsonptrails-live"]||[]).push([[0],{190:function(e,a,t){e.exports=t(420)},195:function(e,a,t){},196:function(e,a,t){},411:function(e,a,t){},415:function(e,a,t){},416:function(e,a,t){},417:function(e,a,t){},418:function(e,a,t){},420:function(e,a,t){"use strict";t.r(a);var l=t(0),c=t.n(l),n=t(22),r=t.n(n),o=(t(195),t(5)),s=(t(196),t(77)),m=t.n(s),i=t(38),d=t(34),u=t.n(d),E=t(78),p=(t(411),t(75)),g=t.n(p),b=t(445),h=function(e){var a=e.trail,t=e.refresh,n=Object(l.useState)(!1),r=Object(o.a)(n,2),s=r[0],i=r[1],d=Object(l.useState)(""),p=Object(o.a)(d,2),h=p[0],N=p[1],v=function(){i(!1)};return c.a.createElement("div",null,c.a.createElement(b.a,{variant:"contained",color:"secondary",size:"large",className:"shadow",startIcon:c.a.createElement(m.a,null),onClick:function(){i(!0)},value:"Thunder"},"Subscribe to Trail"),c.a.createElement(g.a,{visible:s,onClickBackdrop:v,className:"text-center"},c.a.createElement("div",{className:"modal-header text-center"},c.a.createElement("h5",{className:"modal-title text-center"}," Subscribe to Trail ")),c.a.createElement("div",{className:"modal-body"},c.a.createElement("h6",null," ",a.name," ",c.a.createElement("span",null," (",a.length," mi)")," "),c.a.createElement("p",{className:"text-muted"}," ",a.location," ")),c.a.createElement("form",null,c.a.createElement("div",{className:"form-group"},c.a.createElement("label",{htmlFor:"tel-input",className:"col-form-label"},"Enter Mobile to Receive SMS Updates"),c.a.createElement("input",{type:"tel",name:"tel-input",className:"form-control phoneinput",placeholder:"4251235678",pattern:"[0-9]{3}[0-9]{3}[0-9]{4}",required:!0,onChange:function(e){var a=Object(E.a)({},h);a=e.target.value,N(a)},value:h}))),c.a.createElement("div",{className:"modal-footer"},c.a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:v},"Cancel"),c.a.createElement("button",{type:"button",className:"btn btn-danger",onClick:function(){var e=a.id,l={phone:h,trail:a.name,external_id:e};console.log(l),u.a.post("".concat("https://trailmix-base.wm.r.appspot.com/diamondtrails","/trail/").concat(e,"/subscribe"),l).then((function(e){console.log(e.data),console.log("SENT OUT?!!!"),i(!1),N(""),t()})).catch((function(e){console.log(e.message)}))}},"Subscribe"))))},N=(t(415),t(446)),v=t(104),f=t.n(v),y=t(184),x=t.n(y),k=t(181),S=t.n(k),j=t(183),w=t.n(j),C=t(182),O=t.n(C),I=t(180),T=t.n(I),A=t(178),F=t.n(A),R=t(179),M=t.n(R),V=t(173),P=t.n(V),W=t(174),L=t.n(W),X=t(175),_=t.n(X),U=t(176),G=t.n(U),D=t(177),Y=t.n(D),B=function(e){var a=e.trail,t=e.refresh,n=Object(l.useState)(!1),r=Object(o.a)(n,2),s=r[0],m=r[1],i=Object(l.useState)({}),d=Object(o.a)(i,2),E=d[0],p=d[1],h=Object(l.useState)({}),v=Object(o.a)(h,2),y=v[0],k=v[1],j=Object(l.useState)({}),C=Object(o.a)(j,2),I=C[0],A=C[1],R=function(){p({}),k({}),A({}),m(!1)},V=function(e){var t={category:e.target.name,message:e.target.id,external_id:a.id};console.log(t),p(t)},W=function(e){var t=e.target.id+"% Full",l={category:e.target.name,message:t,external_id:a.id};console.log(l),k(l)},X=function(e){var t=e.target.id+" Visitors within 300ft",l={category:e.target.name,message:t,external_id:a.id};console.log(l),A(l)};return c.a.createElement("div",null,c.a.createElement(b.a,{variant:"contained",color:"primary",size:"large",className:"shadow",startIcon:c.a.createElement(f.a,null),onClick:function(){m(!0)},value:"Thunder"},"Update Live Status"),c.a.createElement(g.a,{visible:s,onClickBackdrop:R,className:"text-center"},c.a.createElement("div",{className:"modal-header text-center"},c.a.createElement("h5",{className:"modal-title text-center"}," Update Live Status ")),c.a.createElement("div",{className:"modal-body"},c.a.createElement("h6",null," ",a.name," ",c.a.createElement("span",null," (",a.length," mi)")," "),c.a.createElement("p",{className:"text-muted"}," ",a.location," ")),c.a.createElement("div",{className:"modal-body"},c.a.createElement("h6",null," PARKING ")),c.a.createElement("div",{className:"d-flex flex-row justify-content-center"},c.a.createElement("div",{className:"custom-control custom-radio"},c.a.createElement("input",{type:"radio",id:"0",name:"Parking",className:"custom-control-input",onClick:W}),c.a.createElement("label",{className:"custom-control-label",htmlFor:"0"},c.a.createElement(N.a,{color:"primary","aria-label":"capacity-0-full","data-toggle":"tooltip","data-placement":"top",title:"Parking Available 100%"},c.a.createElement(P.a,null)))),c.a.createElement("div",{className:"custom-control custom-radio"},c.a.createElement("input",{type:"radio",id:"25",name:"Parking",className:"custom-control-input",onClick:W}),c.a.createElement("label",{className:"custom-control-label",htmlFor:"25"},c.a.createElement(N.a,{color:"primary","aria-label":"capacity-25-full","data-toggle":"tooltip","data-placement":"top",title:"25% Full"},c.a.createElement(L.a,null)))),c.a.createElement("div",{className:"custom-control custom-radio"},c.a.createElement("input",{type:"radio",id:"50",name:"Parking",className:"custom-control-input",onClick:W}),c.a.createElement("label",{className:"custom-control-label",htmlFor:"50"},c.a.createElement(N.a,{color:"primary","aria-label":"capacity-50-full","data-toggle":"tooltip","data-placement":"top",title:"50% Full"},c.a.createElement(_.a,null)))),c.a.createElement("div",{className:"custom-control custom-radio"},c.a.createElement("input",{type:"radio",id:"75",name:"Parking",className:"custom-control-input",onClick:W}),c.a.createElement("label",{className:"custom-control-label",htmlFor:"75"},c.a.createElement(N.a,{color:"secondary","aria-label":"capacity-75-full","data-toggle":"tooltip","data-placement":"top",title:"75% Full"},c.a.createElement(G.a,null)))),c.a.createElement("div",{className:"custom-control custom-radio"},c.a.createElement("input",{type:"radio",id:"100",name:"Parking",className:"custom-control-input",onClick:W}),c.a.createElement("label",{className:"custom-control-label",htmlFor:"100"},c.a.createElement(N.a,{color:"secondary","aria-label":"capacity-100-full","data-toggle":"tooltip","data-placement":"top",title:"100% Full"},c.a.createElement(Y.a,null))))),c.a.createElement("div",{className:"modal-body"},c.a.createElement("h6",null," VISITORS  "),c.a.createElement("p",{className:"text-muted"}," (within 300ft) ")),c.a.createElement("div",{className:"d-flex flex-row justify-content-center"},c.a.createElement("div",{className:"custom-control custom-radio"},c.a.createElement("input",{type:"radio",id:"1-5",name:"Visitor",className:"custom-control-input",onClick:X}),c.a.createElement("label",{className:"custom-control-label",htmlFor:"1-5"},c.a.createElement(N.a,{color:"primary","aria-label":"1-5visitorsinsight","data-toggle":"tooltip","data-placement":"top",title:"1-5 visitors in 300ft"},c.a.createElement(F.a,null)))),c.a.createElement("div",{className:"custom-control custom-radio"},c.a.createElement("input",{type:"radio",id:"5-9",name:"Visitor",className:"custom-control-input",onClick:X}),c.a.createElement("label",{className:"custom-control-label",htmlFor:"5-9"},c.a.createElement(N.a,{color:"primary","aria-label":"5-9visitorsinsight","data-toggle":"tooltip","data-placement":"top",title:"5-9 visitors in 300ft"},c.a.createElement(M.a,null)))),c.a.createElement("div",{className:"custom-control custom-radio"},c.a.createElement("input",{type:"radio",id:"9+",name:"Visitor",className:"custom-control-input",onClick:X}),c.a.createElement("label",{className:"custom-control-label",htmlFor:"9+"},c.a.createElement(N.a,{color:"secondary","aria-label":"9plusvisitorsinsight","data-toggle":"tooltip","data-placement":"top",title:"9+ visitors in 300ft"},c.a.createElement(T.a,null))))),c.a.createElement("div",{className:"modal-body"},c.a.createElement("h6",null," WEATHER ")),c.a.createElement("div",{className:"d-flex flex-row justify-content-center"},c.a.createElement("div",{className:"custom-control custom-radio"},c.a.createElement("input",{type:"radio",id:"Sun",name:"Weather",className:"custom-control-input",onClick:V}),c.a.createElement("label",{className:"custom-control-label",htmlFor:"Sun"},c.a.createElement(N.a,{color:"secondary","aria-label":"Sun","data-toggle":"tooltip","data-placement":"top",title:"sun"},c.a.createElement(S.a,null)))),c.a.createElement("div",{className:"custom-control custom-radio"},c.a.createElement("input",{type:"radio",id:"Rain",name:"Weather",className:"custom-control-input",onClick:V}),c.a.createElement("label",{className:"custom-control-label",htmlFor:"Rain"},c.a.createElement(N.a,{color:"primary","aria-label":"Rain","data-toggle":"tooltip","data-placement":"top",title:"rain"},c.a.createElement(O.a,null)))),c.a.createElement("div",{className:"custom-control custom-radio"},c.a.createElement("input",{type:"radio",id:"Thunder",name:"Weather",className:"custom-control-input",onClick:V}),c.a.createElement("label",{className:"custom-control-label",htmlFor:"Thunder"},c.a.createElement(N.a,{color:"secondary","aria-label":"Thunder","data-toggle":"tooltip","data-placement":"top",title:"thunder"},c.a.createElement(f.a,null)))),c.a.createElement("div",{className:"custom-control custom-radio"},c.a.createElement("input",{type:"radio",id:"Hail",name:"Weather",className:"custom-control-input",onClick:V}),c.a.createElement("label",{className:"custom-control-label",htmlFor:"Hail"},c.a.createElement(N.a,{color:"secondary","aria-label":"Hail","data-toggle":"tooltip","data-placement":"top",title:"hail"},c.a.createElement(w.a,null)))),c.a.createElement("div",{className:"custom-control custom-radio"},c.a.createElement("input",{type:"radio",id:"Snow",name:"Weather",className:"custom-control-input",onClick:V}),c.a.createElement("label",{className:"custom-control-label",htmlFor:"Snow"},c.a.createElement(N.a,{color:"primary","aria-label":"Snow",onClick:V,value:"Snow","data-toggle":"tooltip","data-placement":"top",title:"snow"},c.a.createElement(x.a,{name:"Snow"}))))),c.a.createElement("div",{className:"modal-footer"},c.a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:R},"Cancel"),c.a.createElement("button",{type:"button",className:"btn btn-danger",onClick:function(){if(y.message||I.message||E.message){for(var e=a.id,l=0,c=[y,I,E];l<c.length;l++){var n=c[l];n.message&&u.a.post("".concat("https://trailmix-base.wm.r.appspot.com/diamondtrails","/trail/").concat(e,"/live-update"),n).then((function(e){console.log(e.data),console.log("SENT OUT?!!!"),m(!1)})).catch((function(e){console.log(e.message)}))}t()}else console.log("No updates tracked")}},"Update"))))},J=function(e){var a=e.externalID,t=[{message:"SHARE LIVE STATUS",created_at:""}],n=Object(l.useState)({}),r=Object(o.a)(n,2),s=r[0],d=r[1],E=Object(l.useState)(t),p=Object(o.a)(E,2),g=p[0],b=p[1],N=Object(l.useState)(t),v=Object(o.a)(N,2),f=v[0],y=v[1],x=Object(l.useState)(t),k=Object(o.a)(x,2),S=k[0],j=k[1],w=Object(l.useState)(0),C=Object(o.a)(w,2),O=C[0],I=C[1],T=Object(l.useState)(0),A=Object(o.a)(T,2),F=A[0],R=A[1];Object(l.useEffect)((function(){u.a.get("".concat("https://trailmix-base.wm.r.appspot.com/diamondtrails","/trail/").concat(a)).then((function(e){console.log(e.data.trails[0]),console.log("JOYFUL tears! Received data from all these layers"),console.log(e.data.weather_updates);var a=e.data.trails[0];d(a),I(e.data.subscriptions),j(e.data.weather_updates),b(e.data.parking_updates),y(e.data.visitor_updates)})).catch((function(e){console.log(e.message)}))}),[F]);var M=function(){R(F+1)};Object(i.withScriptjs)(Object(i.withGoogleMap)((function(){return c.a.createElement(i.GoogleMap,{defaultZoom:10,defaultCenter:{lat:s.latitude,lng:s.longitude}},c.a.createElement(i.Marker,{position:{lat:s.latitude,lng:s.longitude}}))})));return c.a.createElement("div",{className:"container trail-main-container text-center"},c.a.createElement("div",{className:"card"},c.a.createElement("img",{className:"card-img trail-img shadow",src:s.imgMedium,alt:"Card image"}),c.a.createElement("div",{className:"card-img-overlay"},c.a.createElement("p",{className:"card-text"}))),c.a.createElement("section",null,c.a.createElement("h1",null,s.name),c.a.createElement("h4",null,c.a.createElement("span",{className:"text-muted"}," ",s.location," "))),c.a.createElement("div",null,c.a.createElement(m.a,{color:"secondary"}),c.a.createElement("h5",null,"  ",O," subscribed within past 3 days ")),c.a.createElement(h,{trail:s,refresh:M}),c.a.createElement(B,{trail:s,refresh:M}),c.a.createElement("div",{className:"card-deck"},c.a.createElement("div",{className:"card border-0 shadow"},c.a.createElement("img",{className:"card-img card-img-top",src:"https://lh3.googleusercontent.com/pw/ACtC-3cnK49FbkKIBreGnKxXexLYxK_Ta57aITBbQE4yYtRyV3foDMd9HyGBpUouADLSY4Q0dda1BzXbAhyUSFSoVTu7WjDpcCl5Drl9G2ndLkD-M3xiYW-PzMnjINXnr5erFkWNK3b9VqlQJneARaytSH2FgA=w1692-h1128-no?authuser=0",alt:"Card image cap"}),c.a.createElement("div",{className:"card-img-overlay text-center text-light"},c.a.createElement("h3",null," Parking ")),c.a.createElement("div",{className:"card-body"},c.a.createElement("h5",{className:"card-text"},"\ud83c\udd7f\ufe0f Parking ",function(){var e=t[0].message;return 0!==g.length&&(e=g[0].message),e}()," "),c.a.createElement("a",{className:"card-link"}," ",function(){var e=t[0].created_at;return 0!==g.length&&(e=g[0].created_at),e}()," "))),c.a.createElement("div",{className:"card border-0 shadow"},c.a.createElement("img",{className:"card-img card-img-top",src:"https://lh3.googleusercontent.com/pw/ACtC-3f_QJYX55Fplkf43FB_1lXkjVLOj879wdVAiqOJiXkoUaP1fw_suexKflTRns3kQO1KRVj3jezRQT5V9JeutIc8UHRqRrFG9IiToFRoounFyIWAqJaQ1_40R6fvQ2BNczZ12YGQILNUxM6AzXn98xuvQg=w1840-h1226-no?authuser=0",alt:"Card image cap"}),c.a.createElement("div",{className:"card-img-overlay text-center text-light"},c.a.createElement("h3",null," Visitors ")),c.a.createElement("div",{className:"card-body"},c.a.createElement("h5",{className:"card-text"}," \ud83e\udd7e ",function(){var e=t[0].message;return 0!==f.length&&(e=f[0].message),e}()," "),c.a.createElement("a",{className:"card-link"}," ",function(){var e=t[0].created_at;return 0!==f.length&&(e=f[0].created_at),e}()," "))),c.a.createElement("div",{className:"card border-0 shadow"},c.a.createElement("img",{className:"card-img card-img-top",src:"https://lh3.googleusercontent.com/pw/ACtC-3e6hm4nmqR9HWG4fPUvAyeWoSo34lYA9J0vv01VgLPbI4zyvEZ-CESUVZnycYH-Xv6_M9MXnGFRPVZFPM_IFqY6ExQPKlM-2bGW9FOzuYEzevXsKz97QIbEg39i4zPXueR1GQk_jVD3uYtODbqBt8X8ZQ=w1840-h1226-no?authuser=0",alt:"Card image cap"}),c.a.createElement("div",{className:"card-img-overlay text-center text-light"},c.a.createElement("h3",null," Weather ")),c.a.createElement("div",{className:"card-body"},c.a.createElement("h5",{className:"card-text"}," \ud83c\udf21\ufe0f  ",function(){var e=t[0].message;return 0!==S.length&&(e=S[0].message),e}()," "),c.a.createElement("a",{className:"card-link"}," ",function(){var e=t[0].created_at;return 0!==S.length&&(e=S[0].created_at),e}()," ")))),"Unknown"==s.conditionStatus?"":c.a.createElement("div",{className:"card"},c.a.createElement("div",{className:"card-header"},c.a.createElement("h5",null," \ud83d\udea7 Other Conditions Update ")),c.a.createElement("div",{className:"card-body"},c.a.createElement("a",{className:"card-link"}," ",s.conditionStatus," "),c.a.createElement("a",{className:"card-link"}," ",s.conditionDetails," "),c.a.createElement("a",{className:"card-link"}," ",s.conditionDate," "))),c.a.createElement("div",{className:"card shadow"},c.a.createElement("div",{className:"card-body"},c.a.createElement("h4",{className:"card-title"},"  ",s.name," "),c.a.createElement("p",{className:"card-text mb-2 text-muted"}," ",s.summary," "),c.a.createElement("p",{className:"card-text mb-2"}," ",s.location," "),c.a.createElement("p",{className:"card-text mb-2"}," ",s.length," Miles "),c.a.createElement("p",{className:"card-text mb-2 "}," ",s.ascent,"' Up "),c.a.createElement("p",{className:"card-text mb-2 "}," ",s.descent,"' Down "))))},Q=(t(416),t(417),t(418),function(e){var a=e.trail,t=e.onSelectTrail;return c.a.createElement("div",{className:"card"},c.a.createElement("div",{className:"card-body"},c.a.createElement("h4",{className:"card-title"}," ",c.a.createElement("a",{href:"#".concat(a.id),onClick:function(){console.log(a.id),t(a.id)}}," ",a.name," ")," "),c.a.createElement("p",{className:"card-text mb-2 text-muted"}," ",a.summary," "),c.a.createElement("a",{className:"card-link"}," ",a.location," "),c.a.createElement("a",{className:"card-link"}," ",a.length," mi")))}),H=["AK","AL","AR","AZ","CA","CO","CT","DE","FL","GA","HI","IA","ID","IL","IN","KS","KY","LA","MA","MD","ME","MI","MN","MO","MS","MT","NC","ND","NE","NH","NJ","NM","NV","NY","OH","OK","OR","PA","RI","SC","SD","TN","TX","UT","VA","VT","WA","WI","WV","WY"],K=function(e){var a=e.onSelectTrail,t=Object(l.useState)({value:""}),n=Object(o.a)(t,2),r=n[0],s=n[1],m=Object(l.useState)(""),i=Object(o.a)(m,2),d=i[0],p=i[1],g=Object(l.useState)([]),b=Object(o.a)(g,2),h=b[0],N=b[1],v=Object(l.useState)([]),f=Object(o.a)(v,2),y=f[0],x=f[1],k=function(e){e.preventDefault();var a=h.filter((function(e){return e.name.toLowerCase().includes(d.toLowerCase())}));x(a),p("")},S=y.map((function(e){return c.a.createElement(Q,{key:e.id,trail:e,onSelectTrail:a})})),j=H.map((function(e){return c.a.createElement("option",{key:e,value:e}," ",e," ")}));return c.a.createElement("div",{className:"d-flex flex-column trailsearch-main-container"},c.a.createElement("select",{value:r.value,onChange:function(e){s({value:e.target.value}),x([]),console.log(r),u.a.get("".concat("https://trailmix-base.wm.r.appspot.com/diamondtrails","/all-trails/").concat(e.target.value)).then((function(e){var a=e.data.trails;N(a)})).catch((function(e){console.log(e.message)}))},className:"custom-select",id:"state-select"},c.a.createElement("option",{defaultValue:!0}," 1 * Select State "),c.a.createElement("option",{value:"WA"},"WA"),j),c.a.createElement("form",{onSubmit:k,className:""},c.a.createElement("div",{className:"input-group d-flex flex-column flex-wrap",id:"input-section"},c.a.createElement("input",{type:"type",name:"query",className:"searchbox",id:"search-form",placeholder:"  2   Enter Keyword OR Click Search",onChange:function(e){var a=Object(E.a)({},d);a=e.target.value,p(a)},value:d}),c.a.createElement("input",{className:"btn btn-secondary btn-style bg-dark",id:"search-btn",type:"submit",name:"submit",value:"Search",onClick:k}))),c.a.createElement("section",{className:"results-section"},S))},z=t(105),q=function(){var e=Object(l.useState)(null),a=Object(o.a)(e,2),t=a[0],n=a[1];return c.a.createElement("div",null,c.a.createElement(z.a,{bg:"dark",variant:"dark"},c.a.createElement(z.a.Brand,{href:"/trailmix-live/"},c.a.createElement("img",{alt:"",src:"https://lh3.googleusercontent.com/pw/ACtC-3dcvjHB07jx8qG3JCbZRfxZTH6jnB2DPr3LeRoKYcI5QAl3M9xk9mXTYdrME2swfPhRz7XipbrIAotgXvXJPeec5WGOjou-vaQn0TJzGjEloWVsdxB-51w8NlIUOtIxxLlNSCJPuvmGXh-th_tF2Uw=s200-no?authuser=0",width:"30",height:"30",className:"d-inline-block align-top"}),c.a.createElement("span",{className:"text-light"},"  TRAIL MIX ",c.a.createElement("span",null," LIVE ")," "))),t?c.a.createElement(J,{externalID:t}):c.a.createElement(K,{onSelectTrail:function(e){console.log(e),n(e)}}),c.a.createElement("footer",{className:"footer p-t-1 bg-light app-footer"},c.a.createElement("div",{className:"container d-flex flex-column text-center"},c.a.createElement("a",{href:"/trailmix-live/",className:"align-self-center"},c.a.createElement("img",{alt:"Trail Mix Live",src:"https://lh3.googleusercontent.com/pw/ACtC-3dcvjHB07jx8qG3JCbZRfxZTH6jnB2DPr3LeRoKYcI5QAl3M9xk9mXTYdrME2swfPhRz7XipbrIAotgXvXJPeec5WGOjou-vaQn0TJzGjEloWVsdxB-51w8NlIUOtIxxLlNSCJPuvmGXh-th_tF2Uw=s200-no?authuser=0",width:"30",height:"30",className:"d-inline-block align-top"})),c.a.createElement("p",{className:"text-light text-muted"}," TRAIL MIX LIVE \xa9 2020 "))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));t(419);r.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(q,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[190,1,2]]]);
//# sourceMappingURL=main.cfcd699d.chunk.js.map