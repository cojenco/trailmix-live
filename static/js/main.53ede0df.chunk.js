(this["webpackJsonptrails-live"]=this["webpackJsonptrails-live"]||[]).push([[0],{190:function(e,a,t){e.exports=t(420)},195:function(e,a,t){},196:function(e,a,t){},411:function(e,a,t){},415:function(e,a,t){},416:function(e,a,t){},417:function(e,a,t){},418:function(e,a,t){},420:function(e,a,t){"use strict";t.r(a);var l=t(0),c=t.n(l),n=t(22),r=t.n(n),o=(t(195),t(5)),s=(t(196),t(38)),m=t(34),i=t.n(m),d=t(77),u=(t(411),t(75)),E=t.n(u),p=t(172),g=t.n(p),b=t(445),N=function(e){var a=e.trail,t=e.refresh,n=Object(l.useState)(!1),r=Object(o.a)(n,2),s=r[0],m=r[1],u=Object(l.useState)(""),p=Object(o.a)(u,2),N=p[0],h=p[1],v=function(){m(!1)};return c.a.createElement("div",null,c.a.createElement(b.a,{variant:"contained",color:"secondary",size:"large",className:"",startIcon:c.a.createElement(g.a,null),onClick:function(){m(!0)},value:"Thunder"},"Subscribe to Trail"),c.a.createElement(E.a,{visible:s,onClickBackdrop:v,className:"text-center"},c.a.createElement("div",{className:"modal-header text-center"},c.a.createElement("h5",{className:"modal-title text-center"}," Subscribe to Trail ")),c.a.createElement("div",{className:"modal-body"},c.a.createElement("h6",null," ",a.name," ",c.a.createElement("span",null," (",a.length," mi)")," "),c.a.createElement("p",{className:"text-muted"}," ",a.location," ")),c.a.createElement("form",null,c.a.createElement("div",{className:"form-group"},c.a.createElement("label",{htmlFor:"tel-input",className:"col-form-label"},"Enter Mobile to Receive SMS Updates"),c.a.createElement("input",{type:"tel",name:"tel-input",className:"form-control phoneinput",placeholder:"4251235678",pattern:"[0-9]{3}[0-9]{3}[0-9]{4}",required:!0,onChange:function(e){var a=Object(d.a)({},N);a=e.target.value,h(a)},value:N}))),c.a.createElement("div",{className:"modal-footer"},c.a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:v},"Cancel"),c.a.createElement("button",{type:"button",className:"btn btn-danger",onClick:function(){var e=a.id,l={phone:N,trail:a.name,external_id:e};console.log(l),i.a.post("".concat("https://trailmix-base.wm.r.appspot.com/diamondtrails","/trail/").concat(e,"/subscribe"),l).then((function(e){console.log(e.data),console.log("SENT OUT?!!!"),m(!1),h(""),t()})).catch((function(e){console.log(e.message)}))}},"Subscribe"))))},h=(t(415),t(446)),v=t(103),f=t.n(v),y=t(184),k=t.n(y),x=t(181),S=t.n(x),O=t(183),j=t.n(O),C=t(182),w=t.n(C),A=t(180),F=t.n(A),T=t(178),I=t.n(T),R=t(179),M=t.n(R),V=t(173),W=t.n(V),_=t(174),P=t.n(_),U=t(175),L=t.n(U),D=t(176),X=t.n(D),H=t(177),G=t.n(H),Y=function(e){var a=e.trail,t=e.refresh,n=Object(l.useState)(!1),r=Object(o.a)(n,2),s=r[0],m=r[1],d=Object(l.useState)({}),u=Object(o.a)(d,2),p=u[0],g=u[1],N=Object(l.useState)({}),v=Object(o.a)(N,2),y=v[0],x=v[1],O=Object(l.useState)({}),C=Object(o.a)(O,2),A=C[0],T=C[1],R=function(){g({}),x({}),T({}),m(!1)},V=function(e){var t={category:e.target.name,message:e.target.id,external_id:a.id};console.log(t),g(t)},_=function(e){var t=e.target.id+"% Full",l={category:e.target.name,message:t,external_id:a.id};console.log(l),x(l)},U=function(e){var t=e.target.id+" Visitors within 300ft",l={category:e.target.name,message:t,external_id:a.id};console.log(l),T(l)};return c.a.createElement("div",null,c.a.createElement(b.a,{variant:"contained",color:"primary",size:"large",className:"",startIcon:c.a.createElement(f.a,null),onClick:function(){m(!0)},value:"Thunder"},"Update Live Status"),c.a.createElement(E.a,{visible:s,onClickBackdrop:R,className:"text-center"},c.a.createElement("div",{className:"modal-header text-center"},c.a.createElement("h5",{className:"modal-title text-center"}," Update Live Status ")),c.a.createElement("div",{className:"modal-body"},c.a.createElement("h6",null," ",a.name," ",c.a.createElement("span",null," (",a.length," mi)")," "),c.a.createElement("p",{className:"text-muted"}," ",a.location," ")),c.a.createElement("div",{className:"modal-body"},c.a.createElement("h6",null," PARKING ")),c.a.createElement("div",{className:"d-flex flex-row justify-content-center"},c.a.createElement("div",{className:"custom-control custom-radio"},c.a.createElement("input",{type:"radio",id:"0",name:"Parking",className:"custom-control-input",onClick:_}),c.a.createElement("label",{className:"custom-control-label",htmlFor:"0"},c.a.createElement(h.a,{color:"primary","aria-label":"capacity-0-full","data-toggle":"tooltip","data-placement":"top",title:"Parking Available 100%"},c.a.createElement(W.a,null)))),c.a.createElement("div",{className:"custom-control custom-radio"},c.a.createElement("input",{type:"radio",id:"25",name:"Parking",className:"custom-control-input",onClick:_}),c.a.createElement("label",{className:"custom-control-label",htmlFor:"25"},c.a.createElement(h.a,{color:"primary","aria-label":"capacity-25-full","data-toggle":"tooltip","data-placement":"top",title:"25% Full"},c.a.createElement(P.a,null)))),c.a.createElement("div",{className:"custom-control custom-radio"},c.a.createElement("input",{type:"radio",id:"50",name:"Parking",className:"custom-control-input",onClick:_}),c.a.createElement("label",{className:"custom-control-label",htmlFor:"50"},c.a.createElement(h.a,{color:"primary","aria-label":"capacity-50-full","data-toggle":"tooltip","data-placement":"top",title:"50% Full"},c.a.createElement(L.a,null)))),c.a.createElement("div",{className:"custom-control custom-radio"},c.a.createElement("input",{type:"radio",id:"75",name:"Parking",className:"custom-control-input",onClick:_}),c.a.createElement("label",{className:"custom-control-label",htmlFor:"75"},c.a.createElement(h.a,{color:"secondary","aria-label":"capacity-75-full","data-toggle":"tooltip","data-placement":"top",title:"75% Full"},c.a.createElement(X.a,null)))),c.a.createElement("div",{className:"custom-control custom-radio"},c.a.createElement("input",{type:"radio",id:"100",name:"Parking",className:"custom-control-input",onClick:_}),c.a.createElement("label",{className:"custom-control-label",htmlFor:"100"},c.a.createElement(h.a,{color:"secondary","aria-label":"capacity-100-full","data-toggle":"tooltip","data-placement":"top",title:"100% Full"},c.a.createElement(G.a,null))))),c.a.createElement("div",{className:"modal-body"},c.a.createElement("h6",null," VISITORS  "),c.a.createElement("p",{className:"text-muted"}," (within 300ft) ")),c.a.createElement("div",{className:"d-flex flex-row justify-content-center"},c.a.createElement("div",{className:"custom-control custom-radio"},c.a.createElement("input",{type:"radio",id:"1-5",name:"Visitor",className:"custom-control-input",onClick:U}),c.a.createElement("label",{className:"custom-control-label",htmlFor:"1-5"},c.a.createElement(h.a,{color:"primary","aria-label":"1-5visitorsinsight","data-toggle":"tooltip","data-placement":"top",title:"1-5 visitors in 300ft"},c.a.createElement(I.a,null)))),c.a.createElement("div",{className:"custom-control custom-radio"},c.a.createElement("input",{type:"radio",id:"5-9",name:"Visitor",className:"custom-control-input",onClick:U}),c.a.createElement("label",{className:"custom-control-label",htmlFor:"5-9"},c.a.createElement(h.a,{color:"primary","aria-label":"5-9visitorsinsight","data-toggle":"tooltip","data-placement":"top",title:"5-9 visitors in 300ft"},c.a.createElement(M.a,null)))),c.a.createElement("div",{className:"custom-control custom-radio"},c.a.createElement("input",{type:"radio",id:"9+",name:"Visitor",className:"custom-control-input",onClick:U}),c.a.createElement("label",{className:"custom-control-label",htmlFor:"9+"},c.a.createElement(h.a,{color:"secondary","aria-label":"9plusvisitorsinsight","data-toggle":"tooltip","data-placement":"top",title:"9+ visitors in 300ft"},c.a.createElement(F.a,null))))),c.a.createElement("div",{className:"modal-body"},c.a.createElement("h6",null," WEATHER ")),c.a.createElement("div",{className:"d-flex flex-row justify-content-center"},c.a.createElement("div",{className:"custom-control custom-radio"},c.a.createElement("input",{type:"radio",id:"Sun",name:"Weather",className:"custom-control-input",onClick:V}),c.a.createElement("label",{className:"custom-control-label",htmlFor:"Sun"},c.a.createElement(h.a,{color:"secondary","aria-label":"Sun","data-toggle":"tooltip","data-placement":"top",title:"sun"},c.a.createElement(S.a,null)))),c.a.createElement("div",{className:"custom-control custom-radio"},c.a.createElement("input",{type:"radio",id:"Rain",name:"Weather",className:"custom-control-input",onClick:V}),c.a.createElement("label",{className:"custom-control-label",htmlFor:"Rain"},c.a.createElement(h.a,{color:"primary","aria-label":"Rain","data-toggle":"tooltip","data-placement":"top",title:"rain"},c.a.createElement(w.a,null)))),c.a.createElement("div",{className:"custom-control custom-radio"},c.a.createElement("input",{type:"radio",id:"Thunder",name:"Weather",className:"custom-control-input",onClick:V}),c.a.createElement("label",{className:"custom-control-label",htmlFor:"Thunder"},c.a.createElement(h.a,{color:"secondary","aria-label":"Thunder","data-toggle":"tooltip","data-placement":"top",title:"thunder"},c.a.createElement(f.a,null)))),c.a.createElement("div",{className:"custom-control custom-radio"},c.a.createElement("input",{type:"radio",id:"Hail",name:"Weather",className:"custom-control-input",onClick:V}),c.a.createElement("label",{className:"custom-control-label",htmlFor:"Hail"},c.a.createElement(h.a,{color:"secondary","aria-label":"Hail","data-toggle":"tooltip","data-placement":"top",title:"hail"},c.a.createElement(j.a,null)))),c.a.createElement("div",{className:"custom-control custom-radio"},c.a.createElement("input",{type:"radio",id:"Snow",name:"Weather",className:"custom-control-input",onClick:V}),c.a.createElement("label",{className:"custom-control-label",htmlFor:"Snow"},c.a.createElement(h.a,{color:"primary","aria-label":"Snow",onClick:V,value:"Snow","data-toggle":"tooltip","data-placement":"top",title:"snow"},c.a.createElement(k.a,{name:"Snow"}))))),c.a.createElement("div",{className:"modal-footer"},c.a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:R},"Cancel"),c.a.createElement("button",{type:"button",className:"btn btn-danger",onClick:function(){if(y.message||A.message||p.message){for(var e=a.id,l=0,c=[y,A,p];l<c.length;l++){var n=c[l];n.message&&i.a.post("".concat("https://trailmix-base.wm.r.appspot.com/diamondtrails","/trail/").concat(e,"/live-update"),n).then((function(e){console.log(e.data),console.log("SENT OUT?!!!"),m(!1)})).catch((function(e){console.log(e.message)}))}t()}else console.log("No updates tracked")}},"Update"))))},K=function(e){var a=e.externalID,t=[{message:"SHARE LIVE STATUS",created_at:""}],n=Object(l.useState)({}),r=Object(o.a)(n,2),m=r[0],d=r[1],u=Object(l.useState)(t),E=Object(o.a)(u,2),p=E[0],g=E[1],b=Object(l.useState)(t),h=Object(o.a)(b,2),v=h[0],f=h[1],y=Object(l.useState)(t),k=Object(o.a)(y,2),x=k[0],S=k[1],O=Object(l.useState)(0),j=Object(o.a)(O,2),C=j[0],w=j[1],A=Object(l.useState)(0),F=Object(o.a)(A,2),T=F[0],I=F[1];Object(l.useEffect)((function(){i.a.get("".concat("https://trailmix-base.wm.r.appspot.com/diamondtrails","/trail/").concat(a)).then((function(e){console.log(e.data.trails[0]),console.log("JOYFUL tears! Received data from all these layers"),console.log(e.data.weather_updates);var a=e.data.trails[0];d(a),w(e.data.subscriptions),S(e.data.weather_updates),g(e.data.parking_updates),f(e.data.visitor_updates)})).catch((function(e){console.log(e.message)}))}),[T]);var R=function(){I(T+1)};Object(s.withScriptjs)(Object(s.withGoogleMap)((function(){return c.a.createElement(s.GoogleMap,{defaultZoom:10,defaultCenter:{lat:m.latitude,lng:m.longitude}},c.a.createElement(s.Marker,{position:{lat:m.latitude,lng:m.longitude}}))})));return c.a.createElement("div",{className:"container trail-main-container "},c.a.createElement("div",{className:"card"},c.a.createElement("img",{className:"card-img trail-img",src:m.imgMedium,alt:"Card image"}),c.a.createElement("div",{className:"card-img-overlay"},c.a.createElement("p",{className:"card-text"}))),c.a.createElement("h3",null,m.name),c.a.createElement("p",null,c.a.createElement("span",null," ",m.location," ")),c.a.createElement("p",null," \u2764\ufe0f  ",C," subscribed within past 3 days "),c.a.createElement(N,{trail:m,refresh:R}),c.a.createElement(Y,{trail:m,refresh:R}),c.a.createElement("div",{className:"card-deck"},c.a.createElement("div",{className:"card"},c.a.createElement("img",{className:"card-img card-img-top",src:"https://lh3.googleusercontent.com/pw/ACtC-3cnK49FbkKIBreGnKxXexLYxK_Ta57aITBbQE4yYtRyV3foDMd9HyGBpUouADLSY4Q0dda1BzXbAhyUSFSoVTu7WjDpcCl5Drl9G2ndLkD-M3xiYW-PzMnjINXnr5erFkWNK3b9VqlQJneARaytSH2FgA=w1692-h1128-no?authuser=0",alt:"Card image cap"}),c.a.createElement("div",{className:"card-img-overlay text-center text-light"},c.a.createElement("h3",null," Parking ")),c.a.createElement("div",{className:"card-body"},c.a.createElement("p",{className:"card-text"},"\ud83c\udd7f\ufe0f Parking ",function(){var e=t[0].message;return 0!==p.length&&(e=p[0].message),e}()," "),c.a.createElement("a",{className:"card-link"}," ",function(){var e=t[0].created_at;return 0!==p.length&&(e=p[0].created_at),e}()," "),c.a.createElement("a",{href:"#!",className:"card-link"}," See History "))),c.a.createElement("div",{className:"card"},c.a.createElement("img",{className:"card-img card-img-top",src:"https://lh3.googleusercontent.com/pw/ACtC-3f_QJYX55Fplkf43FB_1lXkjVLOj879wdVAiqOJiXkoUaP1fw_suexKflTRns3kQO1KRVj3jezRQT5V9JeutIc8UHRqRrFG9IiToFRoounFyIWAqJaQ1_40R6fvQ2BNczZ12YGQILNUxM6AzXn98xuvQg=w1840-h1226-no?authuser=0",alt:"Card image cap"}),c.a.createElement("div",{className:"card-img-overlay text-center text-light"},c.a.createElement("h3",null," Visitors ")),c.a.createElement("div",{className:"card-body"},c.a.createElement("p",{className:"card-text"}," \ud83e\udd7e Visitors ",function(){var e=t[0].message;return 0!==v.length&&(e=v[0].message),e}()," "),c.a.createElement("a",{className:"card-link"}," ",function(){var e=t[0].created_at;return 0!==v.length&&(e=v[0].created_at),e}()," "),c.a.createElement("a",{href:"#!",className:"card-link"}," See History "))),c.a.createElement("div",{className:"card"},c.a.createElement("img",{className:"card-img card-img-top",src:"https://lh3.googleusercontent.com/pw/ACtC-3e6hm4nmqR9HWG4fPUvAyeWoSo34lYA9J0vv01VgLPbI4zyvEZ-CESUVZnycYH-Xv6_M9MXnGFRPVZFPM_IFqY6ExQPKlM-2bGW9FOzuYEzevXsKz97QIbEg39i4zPXueR1GQk_jVD3uYtODbqBt8X8ZQ=w1840-h1226-no?authuser=0",alt:"Card image cap"}),c.a.createElement("div",{className:"card-img-overlay text-center text-light"},c.a.createElement("h3",null," Weather ")),c.a.createElement("div",{className:"card-body"},c.a.createElement("p",{className:"card-text"}," \u2744\ufe0f Weather ",function(){var e=t[0].message;return 0!==x.length&&(e=x[0].message),e}()," "),c.a.createElement("a",{className:"card-link"}," ",function(){var e=t[0].created_at;return 0!==x.length&&(e=x[0].created_at),e}()," "),c.a.createElement("a",{href:"#!",className:"card-link"}," See History ")))),"Unknown"==m.conditionStatus?"":c.a.createElement("div",{className:"card"},c.a.createElement("div",{className:"card-header"},c.a.createElement("p",null," \ud83d\udea7 Other Conditions Update ")),c.a.createElement("div",{className:"card-body"},c.a.createElement("a",{className:"card-link"}," ",m.conditionStatus," "),c.a.createElement("a",{className:"card-link"}," ",m.conditionDetails," "),c.a.createElement("a",{className:"card-link"}," ",m.conditionDate," "))),c.a.createElement("div",{className:"card"},c.a.createElement("div",{className:"card-body"},c.a.createElement("h4",{className:"card-title"},"  ",m.name," "),c.a.createElement("p",{className:"card-text mb-2 text-muted"}," ",m.summary," "),c.a.createElement("p",{className:"card-text mb-2"}," ",m.location," "),c.a.createElement("p",{className:"card-text mb-2"}," ",m.length," Miles "),c.a.createElement("p",{className:"card-text mb-2 "}," ",m.ascent,"' Up "),c.a.createElement("p",{className:"card-text mb-2 "}," ",m.descent,"' Down "))))},Q=(t(416),t(417),t(418),function(e){var a=e.trail,t=e.onSelectTrail;return c.a.createElement("div",{className:"card"},c.a.createElement("div",{className:"card-body"},c.a.createElement("h4",{className:"card-title"}," ",c.a.createElement("a",{href:"#".concat(a.id),onClick:function(){console.log(a.id),t(a.id)}}," ",a.name," ")," "),c.a.createElement("p",{className:"card-text mb-2 text-muted"}," ",a.summary," "),c.a.createElement("a",{className:"card-link"}," ",a.location," "),c.a.createElement("a",{className:"card-link"}," ",a.length," mi")))}),B=["AK","AL","AR","AZ","CA","CO","CT","DE","FL","GA","HI","IA","ID","IL","IN","KS","KY","LA","MA","MD","ME","MI","MN","MO","MS","MT","NC","ND","NE","NH","NJ","NM","NV","NY","OH","OK","OR","PA","RI","SC","SD","TN","TX","UT","VA","VT","WA","WI","WV","WY"],z=function(e){var a=e.onSelectTrail,t=Object(l.useState)({value:""}),n=Object(o.a)(t,2),r=n[0],s=n[1],m=Object(l.useState)(""),u=Object(o.a)(m,2),E=u[0],p=u[1],g=Object(l.useState)([]),b=Object(o.a)(g,2),N=b[0],h=b[1],v=Object(l.useState)([]),f=Object(o.a)(v,2),y=f[0],k=f[1],x=function(e){e.preventDefault();var a=N.filter((function(e){return e.name.toLowerCase().includes(E.toLowerCase())}));k(a),p("")},S=y.map((function(e){return c.a.createElement(Q,{key:e.id,trail:e,onSelectTrail:a})})),O=B.map((function(e){return c.a.createElement("option",{key:e,value:e}," ",e," ")}));return c.a.createElement("div",{className:"d-flex flex-column trailsearch-main-container"},c.a.createElement("select",{value:r.value,onChange:function(e){s({value:e.target.value}),k([]),console.log(r),i.a.get("".concat("https://trailmix-base.wm.r.appspot.com/diamondtrails","/all-trails/").concat(e.target.value)).then((function(e){var a=e.data.trails;h(a)})).catch((function(e){console.log(e.message)}))},className:"custom-select",id:"state-select"},c.a.createElement("option",{defaultValue:!0}," 1 * Select State "),c.a.createElement("option",{value:"WA"},"WA"),O),c.a.createElement("form",{onSubmit:x,className:""},c.a.createElement("div",{className:"input-group d-flex flex-column flex-wrap",id:"input-section"},c.a.createElement("input",{type:"type",name:"query",className:"searchbox",id:"search-form",placeholder:"  2   Enter Keyword OR Click Search",onChange:function(e){var a=Object(d.a)({},E);a=e.target.value,p(a)},value:E}),c.a.createElement("input",{className:"btn btn-secondary btn-style bg-dark",id:"search-btn",type:"submit",name:"submit",value:"Search",onClick:x}))),c.a.createElement("section",{className:"results-section"},S))},J=t(104),q=function(){var e=Object(l.useState)(null),a=Object(o.a)(e,2),t=a[0],n=a[1];return c.a.createElement("div",null,c.a.createElement(J.a,{bg:"dark",variant:"dark"},c.a.createElement(J.a.Brand,{href:"/trailmix-live/"},c.a.createElement("img",{alt:"",src:"https://lh3.googleusercontent.com/pw/ACtC-3dcvjHB07jx8qG3JCbZRfxZTH6jnB2DPr3LeRoKYcI5QAl3M9xk9mXTYdrME2swfPhRz7XipbrIAotgXvXJPeec5WGOjou-vaQn0TJzGjEloWVsdxB-51w8NlIUOtIxxLlNSCJPuvmGXh-th_tF2Uw=s200-no?authuser=0",width:"30",height:"30",className:"d-inline-block align-top"}),c.a.createElement("span",{className:"text-light"},"  TRAIL MIX ",c.a.createElement("span",null," LIVE ")," "))),t?c.a.createElement(K,{externalID:t}):c.a.createElement(z,{onSelectTrail:function(e){console.log(e),n(e)}}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));t(419);r.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(q,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[190,1,2]]]);
//# sourceMappingURL=main.53ede0df.chunk.js.map